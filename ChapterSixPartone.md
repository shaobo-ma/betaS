# 第一篇	最好的微服务应用—小团队作战

<p style="text-indent:2em">亚马逊对于“小团队”给出了很形象的说法，如果两张披萨无法满足一个项目团队，就代表着这个团队人数有点多了。注意是“项目团队”，这而项目团队中的成员是各司其职的，也就是包含了不同的工种。我理解的“小团队”作战要具备两个特性：“团队”和“效率”。首先无论项目长短，成员之间是需要长期协作的，并且形成了独特的规则和机制以连接并约束各成员，也就是默契，这样的组合才能叫做团队。临时工也只能起到反作用。其次所有规则和机制都是为了快速响应而存在的，例如不是所有问题都需要开会来解决。之所以需要快速，是因为我们对于市场作出的决策是有延迟的，需要通过快速迭代的方法来减少延迟带来的负面影响。</p>

<p style="text-indent:2em">如果我们不把NBA看作成一个赛事，而是看作一个企业，我们会发现NBA中的30支球队就是“小团队”作战的最好实践。</p>

<p style="text-indent:2em">队伍建设。无论是球队的创建还是球队的重组，都离不开最基本也是最核心的五个号位（PG、SG、SF、PF、C），没有一场比赛是四个人上场，也没有一场比赛中有两个人打相同的位置，即使原同位置的球员上场后也会按照不同的位置进行分配。大部分球员是以高校赛事中的表现作为进入NBA选秀的筹码，而球队获取球员的方式一种是俱乐部互换，一种就是顺位选秀。球员报告都是根据球员在实战中的成绩为依据的，事实上，没有一个组织叫得分后卫俱乐部、控球后卫俱乐部，从来没有一个组织是按照某个号位去培养球员的。</p>

<p style="text-indent:2em">季前赛可以看作是球员与球员、球员与球队的磨合期，常规赛可以看做球队间的试探期以及球队本身战术的检验期，这两个阶段就是为了让球队能够成为一个“团队”，都过不断地磨合、检验形成独特的机制。我们观察勇士的比赛就可以看到球权的轮转和球员间的跑动都是顶级水平，这就是默契。“快速”则体现在球队的队内模拟赛和专项训练，通过前一天的结果反馈，快速调整战术并进入下一个检验节点。</p>

<p style="text-indent:2em">季后赛则是真正的金戈铁甲、短兵接战。各个球队间的竞争是为了获得NBA年度总冠军的头衔，如果我们把NBA总冠军看作成一个项目而不是一个结果的话，那么每一支球队都变成了项目团队，每一个项目团队都在极力证明自己有能力获得这个项目。失败的球队将会被淘汰，会面临着重组甚至解散。胜利的球队将会获得这一荣誉，项目的价值大是球队留名青史，小则是为俱乐部获取更大的利润。</p>

<p style="text-indent:2em">对于一个长期有价值的产品或者项目来说，“小团队”的作战方式是成功的关键，更有利于闭环建设。核心团队才能决定了产品生命的长度。反之，当企业发现有价值的需求之后，应该思考如何才能让项目产生与之等价甚至更高的回报，也就是要思考改如何组建核心团队—招标。招标即有能力者居上，企业发布项目信息，各个项目团队需要用竞争的方式去证明自己的团队比其他团队更加能够胜任这个项目。证明的依据将会在指标、项目理解、预计绩效等维度通过增加权重综合评估。指标则是从团队整体到个人历来所经历不同项目的能力指数反馈，数字化之后就是成本（单价、总价、工作效率、KPI达成率等）。我认为这是对待项目应该有的态度，而不是随机抽取短期资源，这样做的结果无非就是不断延长价值的交付时间。</p>

<p style="text-indent:2em"><b>康威定律</b>给了我们很大的指导意义，在《人月神话》中被提炼出四条定律，我在此基础上进行了简化提炼。</p>
<p style="text-indent:2em"><b>第一定律：沟通决定设计。</b>我们选择的沟通方式，决定了系统设计与产品设计的形态。同理，越多的沟通渠道则代表着会产生越复杂的系统设计与产品设计。</p>

<center><img src="https://user-images.githubusercontent.com/20765716/48111180-49b91d00-e28b-11e8-8cf5-5c581b0e80e2.png" style="display: table-cell; vertical-align: middle;text-align: center;" alt="沟通决定设计"></center>
<p style="text-align: center; color: #949494;font-size: 14px;">沟通决定设计</p>

<p style="text-indent:2em"><b>第二定律：擒贼先擒王。</b>也就是先解决主要矛盾，再解决次要矛盾。有两个场景伴随着我们的日常工作，需求过于复杂怎么办？忽略细节。没有足够的资源怎么办？ 放弃部分功能。能力再强的人精力也是有限的额，同时跑五个位置的球员更是少之又少，“破罐子破摔”也许是个不错的选择。 MVP也是这个道理，放弃完美策略，提高现有方案容错率，支持系统自动修复（自动化运维DevOps）。</p>

<p style="text-indent:2em"><b>第三定律：业务决定团队。</b>按照业务划分团队，相比于按照职能划分团队更容易治理。这正是康威定律的小团队应用，也是微服务的体现。微服务与组件的概念相似，可以通过业务明确各服务间的边界，即低耦合。不光有利于服务自身的快速迭代，更有利于整体的快速提升，极大的减少了沟通成本。</p>

<p style="text-indent:2em"><b>第四定律：分而治之。</b>越复杂的系统越适合也越需要拆分。日常的团队管理中很形象的印证了这一点，当一个组织人数和职能越来越多的时候，如果依然只有一个TL直接管理，这将伴随着极大的沟通成本和管理成本。这种情况的解决方法就是分解，运用第三条定律：按照业务划分团队，由TL直接对接小团队TL，赋予对应的业务权利，允许小团队自治。</p> 


<p style="text-indent:2em"><b>以上共勉</b></p>